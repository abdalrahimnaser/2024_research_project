/*
 * Copyright 2022 Xilinx, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


#include <stdio.h>
#include "ap_axi_sdata.h"
#include "hls_stream.h"

#include <iostream>
using namespace std;

#include "sig_gen.h"


#define SIG_TEST_LEN (1024)


ap_uint<32> bufferRe0[SIG_TEST_LEN] = {0,0,65536,65537,131074,196611,327684,393221,524295,655369,786443,983053,1114128,1310739,1507350,1769497,1966109,2228256,2490404,2752552,3080237,3407921,3735606,4063291,4390977,4784198,5177420,5570642,5963864,6422623,6881381,7340140,
	     7798899,8323195,8781954,9306250,9896083,10420379,11010212,11600045,12189878,12845247,13500617,14155987,14811357,15466727,16187634,16908541,17694984,18415891,19202335,19988779,20840759,21627204,22479185,23331166,24248683,25166201,26083719,27001237,27984291,28901810,29950401,30933456,
	     31982048,33030640,34079232,35193360,36307489,37421618,38535748,39715413,40895079,42140282,43385484,44630687,45875890,47186630,48497370,49808110,51184386,52560663,53936940,55378754,56820568,58262382,59769732,61277083,62784434,64357322,65930210,67503098,69141522,70779947,72418373,74122334,
	     75826296,77595794,79365293,81134792,82969828,84804864,86639900,88540472,90441045,92341619,94307728,96339374,98305485,100337132,102434315,104531499,106628683,108791403,110954124,113116845,115345103,117573361,119867156,122160950,124520282,126879614,129238946,131663814,134088683,136579089,139069495,141559901,
	     144115844,146737323,149293266,151980283,154601763,157354316,160041333,162793887,165611978,168430068,171248159,174131787,177080951,179964580,182979281,185928446,189008684,192023387,195103626,198249401,201395177,204606489,207817802,211029115,214305965,217648352,220990738,224333126,227741049,231214509,234687970,238161431,
	     241700429,245239427,248843962,252514033,256184105,259854177,263589786,267325395,271126540,274993223,278859905,282726588,286658808,290656564,294654321,298652078,302715372,306844202,310973033,315101864,319296232,323556136,327816041,332075946,336401388,340792367,345183345,349639861,354096377,358618429,363140482,367662535,
	     372315661,376903252,381621915,386275042,391059242,395777907,400627644,405477382,410327120,415242394,420157669,425138481,430119293,435165642,440277527,445323876,450501299,455678721,460856144,466099104,471407600,476716097,482024594,487398628,492772662,498212233,503717340,509222448,514727556,520298201,525868846,531505027,
	     537206746,542908464,548610183,554377439,560144695,565977487,571810280,577708610,583606940,589570806,595534673,601498541,607593480,613622885,619717825,625812767,631973244,638199258,644359737,650651288,656877303,663168855,669525943,675883032,682240121,688662747,695085373,701573535,708061698,714549861,721103561,727657261,
	     734276497,740895734,747514971,754199745,760884519,767634829,774385140,781135451,787951299,794767146,801582995,808464379,815345764,822227149,829174071,836120993,843067915,850080374,857092833,864170828,871183287,878261283,885404815,892482812,899626344,906769878,913978947,921122480,928331550,935540620,942815227,950089833,
	     957364440,964639047,971913655,979253798,986593942,993934086,1001339766,1008679911,1016085591,1023491272,1030896953,1038302635,1045773852,1053179534,1060650751,1068121969,1075593187,1083129942,1090601160,1098137914,1105609133,1113145888,1120682643,1128219398,1135756153,1143358444,1150895199,1158431955,1166034246,1173571001,1181173293,1188710049,
	     1196312340,1203914632,1211516924,1219053680,1226655971,1234258263,1241860555,1249462847,1256999603,1264601894,1272204186,1279806478,1287343234,1294945525,1302547817,1310084572,1317686864,1325223619,1332760375,1340297130,1347899421,1355436176,1362907395,1370444150,1377980904,1385452123,1392988877,1400460096,1407931314,1415402532,1422808214,1430279431,
	     1437685113,1445090794,1452496475,1459902156,1467307836,1474647981,1481988125,1489328269,1496602876,1503877484,1511152091,1518426698,1525701304,1532910375,1540119445,1547262979,1554472048,1561550045,1568693578,1575771574,1582849570,1589927566,1596940026,1603952485,1610899407,1617911866,1624793251,1631740173,1638556022,1645437407,1652253255,1659069103,
	     1665819414,1672569725,1679254500,1685939274,1692558512,1699177749,1705796986,1712350686,1718838850,1725327013,1731815175,1738237802,1744594891,1750951981,1757243533,1763535085,1769761101,1775987116,1782147594,1788308072,1794403013,1800432418,1806461822,1812425690,1818389556,1824287887,1830120680,1835953473,1841720730,1847422450,1853124169,1858760351,
	     1864396533,1869967178,1875472287,1880911858,1886351430,1891725464,1897033962,1902342459,1907585419,1912762843,1917940265,1922986616,1928032965,1933079314,1937994590,1942909865,1947759603,1952543805,1957328006,1961981134,1966634261,1971221851,1975809441,1980265958,1984722474,1989113453,1993438896,1997698802,2001958706,2006087538,2010216370,2014279664,
	     2018277421,2022209642,2026076326,2029943009,2033744155,2037414228,2041084300,2044688836,2048227834,2051701296,2055174757,2058517145,2061859532,2065070846,2068282159,2071427935,2074508174,2077522877,2080472042,2083355671,2086173762,2088926317,2091613335,2094300352,2096856296,2099412239,2101837108,2104261977,2106555774,2108849569,2111012291,2113175012,
	     2115272196,2117303843,2119204418,2121104991,2122940027,2124709526,2126413489,2127986378,2129559267,2131066618,2132508432,2133884710,2135195450,2136440653,2137620320,2138734449,2139717506,2140700561,2141618079,2142470061,2143256505,2143977413,2144632783,2145222616,2145681377,2146140136,2146533358,2146861044,2147123192,2147254267,2147385341,2147450879,
	     2147450879,2147319806,2147188732,2146992122,2146729974,2146336753,2145943531,2145484772,2144894941,2144305108,2143649738,2142863295,2142076851,2141159334,2140241816,2139258761,2138144634,2137030505,2135785303,2134540100,2133229360,2131787547,2130345733,2128838382,2127199958,2125561534,2123792036,2122022537,2120187501,2118286928,2116255283,2114223636,
	     2112126452,2109963731,2107735474,2105441679,2103016812,2100591943,2098167074,2095611131,2092989652,2090302635,2087550082,2084731992,2081913901,2078964737,2076015572,2072935334,2069855095,2066709319,2063498006,2060221157,2056878770,2053470847,2049997386,2046458389,2042919391,2039249320,2035579248,2031843640,2028042494,2024175811,2020243592,2016245836,
	     2012248079,2008184785,2003990418,1999796051,1995601682,1991276241,1986885263,1982494284,1978037768,1973515716,1968928126,1964340536,1959687409,1954968746,1950184545,1945334808,1940485070,1935569795,1930588984,1925542635,1920496286,1915318865,1910206978,1904964019,1899721059,1894412562,1889038529,1883664495,1878159388,1872719817,1867149173,1861578528,
	     1855942346,1850306164,1844604445,1838837190,1833004398,1827171605,1821338812,1815374946,1809476615,1803447212,1797417808,1791322868,1785227927,1779067449,1772906971,1766680956,1760389405,1754097853,1747806301,1741383676,1735026587,1728538425,1722115798,1715627635,1709073936,1702520236,1695900999,1689281762,1682596989,1675912215,1669161905,1662411594,
	     1655661283,1648845435,1642029587,1635148202,1628266818,1621319896,1614438511,1607426052,1600479130,1593466671,1586388676,1579310680,1572232684,1565154688,1558011155,1550867623,1543724089,1536515020,1529305950,1522031344,1514822273,1507547666,1500273059,1492932916,1485658309,1478318165,1470978021,1463572341,1456232196,1448826515,1441420834,1434015153,
	     1426543936,1419138254,1411667037,1404195819,1396724601,1389187847,1381716628,1374179874,1366708655,1359171900,1351635146,1344098391,1336561635,1329024880,1321422589,1313885834,1306283542,1298746787,1291144495,1283607739,1276005448,1268403156,1260800864,1253264108,1245661817,1238059525,1230457233,1222854941,1215318185,1207715894,1200113602,1192511310,
	     1184974554,1177372263,1169769971,1162233216,1154696460,1147094169,1139557414,1132020658,1124483903,1116947148,1109410393,1101873638,1094336884,1086865665,1079394447,1071857692,1064386474,1056915256,1049509574,1042038357,1034632675,1027161458,1019755777,1012350096,1005009951,997604271,990264126,982923982,975583838,968309230,960969087,953694480,
	     946419873,939210802,931936195,924727125,917518055,910374522,903230988,896021919,888943922,881800390,874722393,867644397,860631938,853619478,846607019,839594560,832647638,825700716,818753794,811872409,804991024,798175175,791293791,784543479,777727631,770977320,764227009,757542234,750857460,744172686,737553449,730934212,
	     724380511,717826811,711273111,704784948,698296785,691874158,685451532,679028906,672671817,666314728,660023175,653731623,647505608,641279592,635053578,628893099,622798157,616637680,610608275,604513335,598549466,592520063,586556196,580657865,574759535,568861205,563028412,557261155,551493899,545726643,540024924,534388741,
	     528687022,523116376,517545731,511975086,506469978,500964870,495525298,490085727,484711693,479337659,474029162,468720665,463477704,458234744,453057321,447945434,442768011,437721662,432675312,427628963,422648151,417667339,412752064,407902325,403052587,398202849,393418647,388634447,383915782,379262655,374609527,369956401,
	     365368810,360846757,356324704,351868187,347411671,342955155,338629712,334238733,329913291,325653386,321393481,317199112,313004744,308875913,304747082,300683787,296620493,292622736,288624979,284692758,280760538,276893855,273092708,269226025,265490415,261754806,258019197,254349125,250679053,247074517,243469982,239930984,
	     236391986,232918525,229445064,226037139,222694751,219286828,216009977,212667590,209390740,206179427,202968114,199822337,196676561,193596321,190516082,187435844,184421141,181471976,178522810,175573646,172690017,169806389,166988298,164235743,161417652,158665098,155978081,153291063,150669583,147982566,145426623,142870679,
	     140314736,137824330,135333924,132843518,130418649,128059316,125699984,123340652,120981320,118753061,116459266,114231008,112002750,109840029,107677308,105580123,103482939,101385755,99354107,97322460,95290814,93324703,91424129,89458020,87557447,85722410,83887374,82052338,80217302,78447803,76678304,74974341,
	     73270379,71631953,69927992,68289567,66716678,65143790,63570902,61998014,60490663,58983312,57541497,56099683,54657869,53216055,51839778,50463501,49152760,47842020,46531280,45220540,43975337,42730134,41550467,40305264,39125598,38011468,36831803,35717674,34603545,33554952,32506360,31457768,
	     30409176,29426121,28443065,27460011,26542492,25624974,24707456,23789938,22937956,22085975,21233994,20382014,19595569,18809125,18022681,17301774,16580866,15859959,15139052,14483682,13828312,13172942,12517572,11927738,11337905,10748072,10158239,9633943,9044110,8519814,8061055,7536759,
	     7078000,6619241,6226018,5767259,5374037,4980815,4587593,4259907,3866686,3539001,3211316,2949167,2621482,2359334,2097186,1900574,1638427,1441815,1245204,1048593,851983,720908,589834,458760,327686,262149,196611,131074,65537,1,0,0,
	     };


ap_uint<32> bufferIm0[SIG_TEST_LEN] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     };


ap_uint<32> bufferRe1[SIG_TEST_LEN] = {0,0,65536,65537,131074,196611,327684,393221,524295,655369,786443,983053,1114128,1310739,1507350,1769497,1966109,2228256,2490404,2752552,3080237,3407921,3735606,4063291,4390977,4784198,5177420,5570642,5963864,6422623,6881381,7340140,
	     7798899,8323195,8781954,9306250,9896083,10420379,11010212,11600045,12189878,12845247,13500617,14155987,14811357,15466727,16187634,16908541,17694984,18415891,19202335,19988779,20840759,21627204,22479185,23331166,24248683,25166201,26083719,27001237,27984291,28901810,29950401,30933456,
	     31982048,33030640,34079232,35193360,36307489,37421618,38535748,39715413,40895079,42140282,43385484,44630687,45875890,47186630,48497370,49808110,51184386,52560663,53936940,55378754,56820568,58262382,59769732,61277083,62784434,64357322,65930210,67503098,69141522,70779947,72418373,74122334,
	     75826296,77595794,79365293,81134792,82969828,84804864,86639900,88540472,90441045,92341619,94307728,96339374,98305485,100337132,102434315,104531499,106628683,108791403,110954124,113116845,115345103,117573361,119867156,122160950,124520282,126879614,129238946,131663814,134088683,136579089,139069495,141559901,
	     144115844,146737323,149293266,151980283,154601763,157354316,160041333,162793887,165611978,168430068,171248159,174131787,177080951,179964580,182979281,185928446,189008684,192023387,195103626,198249401,201395177,204606489,207817802,211029115,214305965,217648352,220990738,224333126,227741049,231214509,234687970,238161431,
	     241700429,245239427,248843962,252514033,256184105,259854177,263589786,267325395,271126540,274993223,278859905,282726588,286658808,290656564,294654321,298652078,302715372,306844202,310973033,315101864,319296232,323556136,327816041,332075946,336401388,340792367,345183345,349639861,354096377,358618429,363140482,367662535,
	     372315661,376903252,381621915,386275042,391059242,395777907,400627644,405477382,410327120,415242394,420157669,425138481,430119293,435165642,440277527,445323876,450501299,455678721,460856144,466099104,471407600,476716097,482024594,487398628,492772662,498212233,503717340,509222448,514727556,520298201,525868846,531505027,
	     537206746,542908464,548610183,554377439,560144695,565977487,571810280,577708610,583606940,589570806,595534673,601498541,607593480,613622885,619717825,625812767,631973244,638199258,644359737,650651288,656877303,663168855,669525943,675883032,682240121,688662747,695085373,701573535,708061698,714549861,721103561,727657261,
	     734276497,740895734,747514971,754199745,760884519,767634829,774385140,781135451,787951299,794767146,801582995,808464379,815345764,822227149,829174071,836120993,843067915,850080374,857092833,864170828,871183287,878261283,885404815,892482812,899626344,906769878,913978947,921122480,928331550,935540620,942815227,950089833,
	     957364440,964639047,971913655,979253798,986593942,993934086,1001339766,1008679911,1016085591,1023491272,1030896953,1038302635,1045773852,1053179534,1060650751,1068121969,1075593187,1083129942,1090601160,1098137914,1105609133,1113145888,1120682643,1128219398,1135756153,1143358444,1150895199,1158431955,1166034246,1173571001,1181173293,1188710049,
	     1196312340,1203914632,1211516924,1219053680,1226655971,1234258263,1241860555,1249462847,1256999603,1264601894,1272204186,1279806478,1287343234,1294945525,1302547817,1310084572,1317686864,1325223619,1332760375,1340297130,1347899421,1355436176,1362907395,1370444150,1377980904,1385452123,1392988877,1400460096,1407931314,1415402532,1422808214,1430279431,
	     1437685113,1445090794,1452496475,1459902156,1467307836,1474647981,1481988125,1489328269,1496602876,1503877484,1511152091,1518426698,1525701304,1532910375,1540119445,1547262979,1554472048,1561550045,1568693578,1575771574,1582849570,1589927566,1596940026,1603952485,1610899407,1617911866,1624793251,1631740173,1638556022,1645437407,1652253255,1659069103,
	     1665819414,1672569725,1679254500,1685939274,1692558512,1699177749,1705796986,1712350686,1718838850,1725327013,1731815175,1738237802,1744594891,1750951981,1757243533,1763535085,1769761101,1775987116,1782147594,1788308072,1794403013,1800432418,1806461822,1812425690,1818389556,1824287887,1830120680,1835953473,1841720730,1847422450,1853124169,1858760351,
	     1864396533,1869967178,1875472287,1880911858,1886351430,1891725464,1897033962,1902342459,1907585419,1912762843,1917940265,1922986616,1928032965,1933079314,1937994590,1942909865,1947759603,1952543805,1957328006,1961981134,1966634261,1971221851,1975809441,1980265958,1984722474,1989113453,1993438896,1997698802,2001958706,2006087538,2010216370,2014279664,
	     2018277421,2022209642,2026076326,2029943009,2033744155,2037414228,2041084300,2044688836,2048227834,2051701296,2055174757,2058517145,2061859532,2065070846,2068282159,2071427935,2074508174,2077522877,2080472042,2083355671,2086173762,2088926317,2091613335,2094300352,2096856296,2099412239,2101837108,2104261977,2106555774,2108849569,2111012291,2113175012,
	     2115272196,2117303843,2119204418,2121104991,2122940027,2124709526,2126413489,2127986378,2129559267,2131066618,2132508432,2133884710,2135195450,2136440653,2137620320,2138734449,2139717506,2140700561,2141618079,2142470061,2143256505,2143977413,2144632783,2145222616,2145681377,2146140136,2146533358,2146861044,2147123192,2147254267,2147385341,2147450879,
	     2147450879,2147319806,2147188732,2146992122,2146729974,2146336753,2145943531,2145484772,2144894941,2144305108,2143649738,2142863295,2142076851,2141159334,2140241816,2139258761,2138144634,2137030505,2135785303,2134540100,2133229360,2131787547,2130345733,2128838382,2127199958,2125561534,2123792036,2122022537,2120187501,2118286928,2116255283,2114223636,
	     2112126452,2109963731,2107735474,2105441679,2103016812,2100591943,2098167074,2095611131,2092989652,2090302635,2087550082,2084731992,2081913901,2078964737,2076015572,2072935334,2069855095,2066709319,2063498006,2060221157,2056878770,2053470847,2049997386,2046458389,2042919391,2039249320,2035579248,2031843640,2028042494,2024175811,2020243592,2016245836,
	     2012248079,2008184785,2003990418,1999796051,1995601682,1991276241,1986885263,1982494284,1978037768,1973515716,1968928126,1964340536,1959687409,1954968746,1950184545,1945334808,1940485070,1935569795,1930588984,1925542635,1920496286,1915318865,1910206978,1904964019,1899721059,1894412562,1889038529,1883664495,1878159388,1872719817,1867149173,1861578528,
	     1855942346,1850306164,1844604445,1838837190,1833004398,1827171605,1821338812,1815374946,1809476615,1803447212,1797417808,1791322868,1785227927,1779067449,1772906971,1766680956,1760389405,1754097853,1747806301,1741383676,1735026587,1728538425,1722115798,1715627635,1709073936,1702520236,1695900999,1689281762,1682596989,1675912215,1669161905,1662411594,
	     1655661283,1648845435,1642029587,1635148202,1628266818,1621319896,1614438511,1607426052,1600479130,1593466671,1586388676,1579310680,1572232684,1565154688,1558011155,1550867623,1543724089,1536515020,1529305950,1522031344,1514822273,1507547666,1500273059,1492932916,1485658309,1478318165,1470978021,1463572341,1456232196,1448826515,1441420834,1434015153,
	     1426543936,1419138254,1411667037,1404195819,1396724601,1389187847,1381716628,1374179874,1366708655,1359171900,1351635146,1344098391,1336561635,1329024880,1321422589,1313885834,1306283542,1298746787,1291144495,1283607739,1276005448,1268403156,1260800864,1253264108,1245661817,1238059525,1230457233,1222854941,1215318185,1207715894,1200113602,1192511310,
	     1184974554,1177372263,1169769971,1162233216,1154696460,1147094169,1139557414,1132020658,1124483903,1116947148,1109410393,1101873638,1094336884,1086865665,1079394447,1071857692,1064386474,1056915256,1049509574,1042038357,1034632675,1027161458,1019755777,1012350096,1005009951,997604271,990264126,982923982,975583838,968309230,960969087,953694480,
	     946419873,939210802,931936195,924727125,917518055,910374522,903230988,896021919,888943922,881800390,874722393,867644397,860631938,853619478,846607019,839594560,832647638,825700716,818753794,811872409,804991024,798175175,791293791,784543479,777727631,770977320,764227009,757542234,750857460,744172686,737553449,730934212,
	     724380511,717826811,711273111,704784948,698296785,691874158,685451532,679028906,672671817,666314728,660023175,653731623,647505608,641279592,635053578,628893099,622798157,616637680,610608275,604513335,598549466,592520063,586556196,580657865,574759535,568861205,563028412,557261155,551493899,545726643,540024924,534388741,
	     528687022,523116376,517545731,511975086,506469978,500964870,495525298,490085727,484711693,479337659,474029162,468720665,463477704,458234744,453057321,447945434,442768011,437721662,432675312,427628963,422648151,417667339,412752064,407902325,403052587,398202849,393418647,388634447,383915782,379262655,374609527,369956401,
	     365368810,360846757,356324704,351868187,347411671,342955155,338629712,334238733,329913291,325653386,321393481,317199112,313004744,308875913,304747082,300683787,296620493,292622736,288624979,284692758,280760538,276893855,273092708,269226025,265490415,261754806,258019197,254349125,250679053,247074517,243469982,239930984,
	     236391986,232918525,229445064,226037139,222694751,219286828,216009977,212667590,209390740,206179427,202968114,199822337,196676561,193596321,190516082,187435844,184421141,181471976,178522810,175573646,172690017,169806389,166988298,164235743,161417652,158665098,155978081,153291063,150669583,147982566,145426623,142870679,
	     140314736,137824330,135333924,132843518,130418649,128059316,125699984,123340652,120981320,118753061,116459266,114231008,112002750,109840029,107677308,105580123,103482939,101385755,99354107,97322460,95290814,93324703,91424129,89458020,87557447,85722410,83887374,82052338,80217302,78447803,76678304,74974341,
	     73270379,71631953,69927992,68289567,66716678,65143790,63570902,61998014,60490663,58983312,57541497,56099683,54657869,53216055,51839778,50463501,49152760,47842020,46531280,45220540,43975337,42730134,41550467,40305264,39125598,38011468,36831803,35717674,34603545,33554952,32506360,31457768,
	     30409176,29426121,28443065,27460011,26542492,25624974,24707456,23789938,22937956,22085975,21233994,20382014,19595569,18809125,18022681,17301774,16580866,15859959,15139052,14483682,13828312,13172942,12517572,11927738,11337905,10748072,10158239,9633943,9044110,8519814,8061055,7536759,
	     7078000,6619241,6226018,5767259,5374037,4980815,4587593,4259907,3866686,3539001,3211316,2949167,2621482,2359334,2097186,1900574,1638427,1441815,1245204,1048593,851983,720908,589834,458760,327686,262149,196611,131074,65537,1,0,0,
	     };


ap_uint<32> bufferIm1[SIG_TEST_LEN] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     };

ap_uint<32> bufferDig[SIG_TEST_LEN] = {3,3,3,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,16843009,
	     };

ap_uint<32> bufferPar[SIG_TEST_LEN];



int main()
{

	ap_int<32> simIndex;
	d_bool readEn;
	hls::stream<pkt> dataOut0;
	hls::stream<pkt_128> dataOutReal;
	hls::stream<pkt_128> dataOutImag;
	pkt tmp0;
	d_bool en;
	static d_bool enPrev = 0;
	int i, j;
	float curveValRe[8*SIG_TEST_LEN], curveValIm[8*SIG_TEST_LEN];
	unsigned int vIndex = 0;

	int numIrq = 0;
	int enableIn = 0;
	int transfer= 0;
	int packetsize = 0;
	ap_uint<1> probeTest;
	ap_uint<4> outPulse;
	unsigned int outPulse_test[SIG_TEST_LEN];
	ap_uint<2> inRTMode, outRTMode;
	ap_uint<32> params;
	hls::stream<pkt_128> dataInReal;
	hls::stream<pkt_128> dataInImag;
	ap_uint<2> txMode = 0;
	ap_uint<4> syncRxIn = 0;
	ap_uint<4> syncRxOut;


	params = ((((SIG_TEST_LEN/8) - 1) << 12));
	txMode = 0;

	cout << "outPulse = [";
	for(simIndex=0; simIndex<2*SIG_TEST_LEN; simIndex++)
	{

		if(simIndex == 0)
		{
			txMode = 2;
			syncRxIn = 1;
		}
		sig_gen((ap_uint<128> *)bufferRe0, (ap_uint<128> *)bufferIm0, params, dataInReal, dataInImag, txMode, syncRxIn, syncRxOut, dataOut0);

		//cout << syncRxOut << ",";

		dataOut0.read(tmp0);

		for(i=0;i<8;i++)
		{
			curveValRe[vIndex] =  ((float)((ap_int<32>)((ap_int<16>)(tmp0.data.range(32*i + 15, 32*i))))) ;
			curveValIm[vIndex] = ((float)((ap_int<32>)((ap_int<16>)(tmp0.data.range(32*i + 31, 32*i + 16)))));
			vIndex++;
		}
	}
	cout << "];" << endl;

	cout << "curveValRe = [";
	for(i=0;i<vIndex;i++){
		cout <<  (curveValRe[i])/(float)(1 << SIG_BITS)  << ", ";
	}
	cout << "];" << endl;

	cout << "curveValIm = [";
	for(i=0;i<vIndex;i++){
		cout <<  (curveValIm[i])/(float)(1 << SIG_BITS)  << ", ";
	}
	cout << "];" << endl;


	cout << "length IRQ = " << numIrq << endl;

	return 0;

}





